(()=>{"use strict";var r={},r={pluginUrl:elemsnr.plugin_ur,pluginDomain:elemsnr.plugin_domain,ajaxUrl:elemsnr.ajax_url,ajaxNonce:elemsnr.ajax_nonce,highlightColor:"#dc00af",generateRandomString:function(e){for(var t="",n=0;n<e;n++)t+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return t}},l={ajaxRequest:function(e,t,n,s){jQuery.ajax({method:"post",url:r.ajaxUrl,data:jQuery.extend({action:e,_wpnonce:r.ajaxNonce},n),beforeSend:function(){return l.beforeSendCallback(t)},success:function(e){return s(JSON.parse(e)[0])},complete:function(){return l.completeCallback(t)},error:function(){return l.errorCallback(t)}})},beforeSendCallback:function(e){e.find(".elemsnr-loading-bar").show()},completeCallback:function(e){e.find(".elemsnr-loading-bar").hide()},errorCallback:function(e){var e=e.find(".elemsnr-output").empty(),t='<storng>Internal Server Error!</strong><br />Contact your hosting provider and access your logs to learn more about what is causing the error; then the plugin author with the detials @ <a href="mailto:contact@'.concat(r.pluginDomain,'">contact@').concat(r.pluginDomain,"</a>.");e.addClass("elemsnr-output-active elemsnr-output-active-error"),e.html(t)},outputCallback:function(e,t,n){e=e.find(".elemsnr-output").empty();e.removeClass("elemsnr-output-active-success elemsnr-output-active-error").addClass("elemsnr-output-active-"+(1===t?"success":"error")),e.addClass("elemsnr-output-active").show().html(n)}},e={resetSettings:function(e){e.preventDefault();var t=jQuery(e.target).closest(".elemsnr-admin");window.confirm("Are you sure you want to RESET ALL options to their defaults?")&&l.ajaxRequest("elemsnr_reset_settings",t,"",function(e){e&&!1===e.success||(l.outputCallback(t,e.status,e.message),jQuery("html, body").animate({scrollTop:0},"fast"),setTimeout(function(){return document.location.reload(!0)},2e3))})},handleSettingsNotices:function(){var e=jQuery(".notice.settings-error"),t=jQuery("#elemsnr-output");jQuery('input[name="_wp_http_referer"][value*="page=elemsnr_settings"]').length&&0<e.length&&t&&(t.html("\n      <p><strong>Options updated.</strong> Setting options have been saved and updated successfully.</p>\n    "),t.addClass("notice-warning elemsnr-output-active"),setTimeout(function(){return e.fadeOut()},2e3))}},t={replace:function(e){e.preventDefault();var t,n,o=jQuery(e.target).closest(".elemsnr-admin"),s=new Array,e=(jQuery('input[name="elemsnr-post-type[]"]:checked').each(function(){n=jQuery(this).val(),s[n]=new Array,jQuery('input[name="elemsnr-post['+n+'][]"]:checked').each(function(){t=jQuery(this).val(),s[n].push(t)})}),{elementor_post_ids:Object.assign({},s),search_phrase:o.find('input[id="elemsnr-search-phrase"]').val(),replace_with_phrase:o.find('input[id="elemsnr-replace-with-phrase"]').val(),is_text_only:o.find('input[id="elemsnr-text-only"]:checked').length,is_case_sensitive:o.find('input[name="elemsnr-case-sensitive"]:checked').length,is_links:o.find('input[id="elemsnr-links"]:checked').length,is_images:o.find('input[id="elemsnr-images"]:checked').length});l.ajaxRequest("elemsnr_bulk_search_replace",o,e,function(e){if(!e||!1!==e.success)if(l.outputCallback(o,e.status,e.message),jQuery("html, body").animate({scrollTop:0},"fast"),1===e.status){var t,n=JSON.parse(e.output);for(t in n)for(var s in n[t]){var r=n[t][s].search_occurrences,a=n[t][s].preview_link,r=jQuery("<div/>").addClass("elemsnr-preview").html("<strong>".concat(r,'</strong> results replaced &mdash; <a href="').concat(a,'" target="_blank">Preview</a> ')),a=(o.find('label[for="elemsnr-post-'+s+'"] div.elemsnr-preview').remove(),o.find('label[for="elemsnr-post-'+s+'"]').append(r),o.find('label[for="elemsnr-post-'+s+'"]').closest(".elemsnr-scroll-container").find(".elemsnr-filters-bar")),r=o.find('label[for="elemsnr-post-'+s+'"]').closest("p");r.clone(!0).insertAfter(a),r.remove()}o.find("input, select").prop("disabled",!0),o.find('button[name="elemsnr-replace-button"]').hide(),o.find('a[name="elemsnr-start-over-button"]').css("display","inline-block")}else setTimeout(function(){return document.location.reload(!0)},3e3)})},clearTags:function(e){e.preventDefault();var t,n,s=jQuery(e.target).closest(".elemsnr-admin"),r=new Array,e=(jQuery('input[name="elemsnr-post-type[]"]:checked').each(function(){n=jQuery(this).val(),r[n]=new Array,jQuery('input[name="elemsnr-post['+n+'][]"]:checked').each(function(){t=jQuery(this).val(),r[n].push(t)})}),{elementor_post_ids:Object.assign({},r)});l.ajaxRequest("elemsnr_bulk_remove_custom_tags",s,e,function(e){e&&!1===e.success||(l.outputCallback(s,e.status,e.message),jQuery("html, body").animate({scrollTop:0},"fast"),s.find('input[name="elemsnr-search-phrase"]').val(""),s.find('input[name="elemsnr-replace-with-phrase"]').val(""),setTimeout(function(){return document.location.reload(!0)},3e3))})}},n={toggleTypes:function(e){var e=jQuery(e.target),t=e.closest("p").next();e.is(":checked")?t.show():t.hide()},togglePosts:function(e){var t=jQuery(e.target);t.closest(".elemsnr-scroll-container").find("p input:checkbox").each(function(){t.is(":checked")?jQuery(this).prop("checked",!0):jQuery(this).prop("checked",!1)})},searchPosts:function(e){var e=jQuery(e.target),t=e.closest(".elemsnr-scroll-container"),n=e.val();""===n||n.length<3?t.find("p").show():t.find("p").each(function(){var e=jQuery(this).find("input:checkbox"),t=e.next().text();jQuery(this).hide(),(e.is(":checked")||0<t.search(n))&&jQuery(this).show()})},changePages:function(e){var e=jQuery(e.target),t=e.closest(".elemsnr-scroll-container"),n=e.closest(".elemsnr-post-type-container"),t={post_type:t.prev().find('input[name="elemsnr-post-type[]"]').val(),page:e.val()};l.ajaxRequest("elemsnr_show_posts_per_page",n,t,function(e){e&&!1===e.success||(jQuery("html, body").animate({scrollTop:0},"fast"),n.empty().html(e.message))})}},s={init:function(){jQuery(document).on("click",'button[name="elemsnr-replace-button"]',t.replace),jQuery(document).on("click",'button[name="elemsnr-clear-button"]',t.clearTags),jQuery(document).on("click",'input[name="elemsnr-post-type[]"]',n.toggleTypes),jQuery(document).on("click",'input[name="elemsnr-toggle-posts"]',n.togglePosts),jQuery(document).on("change",'select[name="elemsnr-change-posts-pages"]',n.changePages),jQuery(document).on("keydown",'input[name="elemsnr-search-posts"]',n.searchPosts)}};jQuery(document).on("click",'button[name="elemsnr-reset-settings"]',e.resetSettings),e.handleSettingsNotices(),s.init()})();